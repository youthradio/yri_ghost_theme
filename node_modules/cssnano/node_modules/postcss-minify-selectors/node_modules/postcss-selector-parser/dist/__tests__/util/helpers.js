'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _tape = require('tape');

var _tape2 = _interopRequireDefault(_tape);

var _util = require('util');

var _util2 = _interopRequireDefault(_util);

var parse = function parse(input, transform) {
    return (0, _index2['default'])(transform).process(input).result;
};

exports.parse = parse;
var test = function test(spec, input, callback) {
    var tree;

    var result = parse(input, function (selectors) {
        tree = selectors;
    });

    if (callback) {
        (0, _tape2['default'])('' + spec + ' (tree)', function (t) {
            var debug = _util2['default'].inspect(tree, false, null);
            callback.call(undefined, t, tree, debug);
        });
    }

    (0, _tape2['default'])('' + spec + ' (toString)', function (t) {
        t.plan(1);
        t.equal(result, input);
    });
};

exports.test = test;
var throws = function throws(spec, input) {
    (0, _tape2['default'])('' + spec + ' (throws)', function (t) {
        t.plan(1);
        t.throws(function () {
            return (0, _index2['default'])().process(input).result;
        });
    });
};
exports.throws = throws;